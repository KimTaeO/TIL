## 소켓

### 소켓(Socket)이란
* 소켓은 네트워크 상에서 이루어지는 두 프로그램 간의 양방향 통신의 하나의 엔드포인트이다
> 여기서 엔드포인트란 호스트 네임과 포트 번호의 조합이라고 간단히 설명이 가능하다

일반적으로는 특정 컴퓨터의 특정 포트 위에서 서버가 실행되며 클라이언트의 요청을 'listen'하고 있을 뿐이다
이때 클라이언트는 서버의 HostName과 PortNumber를 통해 서버에 연결 요청을 보낼 수 있게 된다 또한 서버는
클라이언트를 식별하기 위해서 연결 동안에 사용될 로컬 포트에 바인딩 된다 이러한 작업을 포트 바인딩이라 한다

만약 연결이 수락된다면 서버는 동일한 로컬 포트에 바인딩된 새로운 소켓을 얻으며 클라이언트의 주소와 포트로
세팅된 리모트 엔드포인트를 가지게 된다
> 서버가 새로운 소켓을 얻는 이유는 ```지속적인 연결 요청```과 ```연결된 클라이언트의 요청```을 동시에 처리해야 하기 때문이다

### Web Socket의 접속 과정
웹소켓을 이용하여 클라이언트와 서버가 통신을 하려면 거쳐야 하는 절차로 크게 ```TCP/IP 접속```, ```웹소켓 열기 HandShake```과정이 있다

웹소켓도 TCP/IP위에서 동작하므로 TCP/IP 접속이 되어있어야 한다

Handshake란 통신에서 연결을 설정하기 위한 과정이며, 통신 장치 간에 테이터 교환 규칙. 속도, 보안 설정 등의 파라미터를 협상한다
    
* Handshake의 목적
    * 연결 설정 : 통신을 시작하기 전에 두 장치는 서로 연결되어 있음을 확인하고 연결을 설정한다
    * 파라미터 협상 : 통신에 사용되는 속도, 프로토콜, 데이터 형식 등의 파라미터를 협상하고 동기화합니다
    * 인증 및 보안 : 필요한 경우 두 장치는 인증을 하고 보안 관련 파라미터를 설정합니다

* WebSocket HandShake
    * WebSocket 프로토콜은 HTTP 기반의 핸드셰이크를 사용하여 초기 연결을 설정한다
        * 클라이언트는 웹 서버에 HTTP 요청을 보내고, Upgrade 헤더를 포함해 WebSocket 연결로 전환하고자 함을 나타냄
        * 서버는 클라이언트의 요청을 확인하고, 101 Switching Protocols 응답을 반환해서 WebSocket 연결을 수락한다

        