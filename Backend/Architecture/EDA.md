# EDA(Event Driven Architecture)

EDA는 특정 서비스에서 다른 서비스가 관심을 가질 수 있는 작업을 수행할 때 상태의 변경을 나타내는 ```이벤트```를 발행하여 다른 서비스들이 ```이벤트```를 수신하여 작업을 수행하는 설계 패턴이다

## EDA 작동 방식
EDA에서 애플리케이션은 이벤트를 생산하거나 소비하는 역할을 한다. 두 역할을 동시에 수행하는 것도 가능하다

* Publisher
    * 메시지 형식으로 이벤트를 브로커나, 다른 형식의 이벤트 라우터로 전송한다. 발행된 이벤트들은 다른 관련된 이벤트와 시간순으로 순서가 유지된다

* Consumer
    * 실시간 또는 원하는 시간에 발행된 메시지를 수집하여 다른 작업을 수행한다

## EDA 이벤트 전송방식
* 이벤트 메시징 또는 Pub/Sub
    * EDA 작동 방식과 차이가 거의 없으며, 생산자가 이벤트를 게시하면 소비하려는 모든 구독자에게 직접 전송된다. 메시지 브로커가 주로 사용되며, 이벤트 메시지를 수신, 필요한 경우에는 변역을 수행, 다른 관련된 이벤트와 시간순으로 순서를 유지, 구독자가 소비할 수 있도록 한 다음 재사용되지 않도록 삭제한다.

* 이벤트 스트리밍
    * 이벤트 Publisher는 ```이벤트 스트림```이라는 것을 브로커에 게시하는데, Consumer는 ```이벤트 스트림```을 구독하여 발행되는 모든 이벤트를 수신하는 것 대신에 소비하려는 이벤트만 소비할 수 있다. 이러한 메시지를 스트리밍 하는 플랫폼에는 몇가지 특징이 있다.
        - ```이벤트 지속성```: 소비자는 이벤트가 게시된 후 언제든지 소비할 수 있다. 즉 데이터를 영구 저장하는 것도 가능하다.
        - ```복잡한 이벤트 처리```: ```이벤트 스트리밍```은 Consumer가 처리하는 모든 일련의 이벤트와 결과를 기반으로 수행하는 작업에도 사용할 수 있다

## EDA를 사용함으로서 얻을 수 있는 이점
* 실시간 응답과 분석: 이벤트 스트리밍은 변화하는 비즈니스 상황에 실시간으로 대응하고, 현재 데이터와, 기록된 데이터를 기반으로 예측과 결정을 내리는 애플리리케이션을 사용할 수 있다
* 내결함성, 확장성, 유지보수, 느슨한 결합: 이벤트 기반 애플리케이션은 서로의 가용성에 의존하지 않는다. 서비스 중단 없이 업데이트가 가능하며, 하나의 구성 요소가 다운되더라도 백업이 가능하다, 또한 이벤트 지속성은 과거의 이벤트를 재상할 수 있어 Consumer가 중단되더라도 데이터나 기능을 복구할 때 도움이 된다. 구성 요소들은 네트워크 전체에서 독립적으로 쉽게 확장된다.
* 비동기식 메시징: 이벤트 기반 아키텍쳐는 구성 요소들끼리 비동기적으로 통신할 수 있다. 즉 Publisher는 Consumer가 메시지를 수신하기 전까지 대기하지 않고 다음 메시지를 발행하거나 작업을 수행할 수 있다